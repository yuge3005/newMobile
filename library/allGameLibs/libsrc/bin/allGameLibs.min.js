function requestStr(t){for(var e=location.search.split(/[?&]/),i=Object,n=0;n<e.length;n++){var o=e[n].split("=");2==o.length&&(i[o[0]]=o[1])}return i[t]}var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},GenericModal=function(t){function e(i){void 0===i&&(i=null);var n=t.call(this)||this;return n.enableKeyboard=!1,n.inited=!1,n.assetName=egret.getDefinitionByName(egret.getQualifiedClassName(n)).classAssetName,null===n.assetName||""===n.assetName||e.assetLoaded[n.assetName]?n.init():i?(n.configUrl=i,RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,n.analyse,n),RES.loadConfig("../data.res.json",i.replace("data.res.json","resource/"))):e.loadAsset(n.assetName,n),n}return __extends(e,t),Object.defineProperty(e,"classAssetName",{get:function(){return""},enumerable:!0,configurable:!0}),e.prototype.analyse=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.analyse,this),e.loadAsset(this.assetName,this)},e.prototype.init=function(){this.inited=!0,this.dispatchEvent(new egret.Event(e.GENERIC_MODAL_LOADED))},e.loadAsset=function(t,e){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.loaded,e),RES.loadGroup(t)},e.loaded=function(t){t.groupName==this.assetName&&(e.assetLoaded[this.assetName]=!0,this.init(),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.loaded,this))},e.prototype.onKeyUp=function(t){},e.GENERIC_MODAL_LOADED="modalLoaded",e.CLOSE_MODAL="closeModal",e.MODAL_COMMAND="modalCommand",e.assetLoaded=new Array,e}(egret.Sprite);__reflect(GenericModal.prototype,"GenericModal");var mouse=function(){function t(){}return t.setButtonMode=function(t){},t}();__reflect(mouse.prototype,"mouse");var GenericPo=function(t){function e(e){return void 0===e&&(e=null),t.call(this,e)||this}return __extends(e,t),e.prototype.init=function(){""!==this.bgAssetName?(this.bg=Com.addBitmapAt(this,this.bgAssetName,0,0),this.anchorOffsetX=this.bg.width>>1,this.anchorOffsetY=this.bg.height>>1):(this.width=document.documentElement.clientWidth,this.height=document.documentElement.clientHeight,this.anchorOffsetX=this.width>>1,this.anchorOffsetY=this.height>>1),this.closeButtonOffset||(this.closeButtonOffset=new egret.Point(0,0)),this.closeButtonAssetName&&(this.closeButton=Com.addDownButtonAt(this,this.closeButtonAssetName,this.closeButtonAssetName,this.bg.width+this.closeButtonOffset.x,this.closeButtonOffset.y,this.onClose,!0)),t.prototype.init.call(this)},e.prototype.onClose=function(t){this.dispatchEvent(new egret.Event(GenericModal.CLOSE_MODAL))},e.prototype.updateDealOverplusText=function(t){},e.prototype.poOverplusOver=function(){},e.prototype.onKeyUp=function(t){},e.prototype.onMouseWheel=function(t){},e}(GenericModal);__reflect(GenericPo.prototype,"GenericPo");var LanguageBar=function(t){function e(){var i=t.call(this)||this;GraphicTool.drawRect(i,new egret.Rectangle(0,0,308,268),9864451,!1,1,50,2,16776565),i.touchEnabled=!0,i.touchChildren=!1,i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,i.onTouch,i),i.addEventListener(egret.TouchEvent.TOUCH_CANCEL,i.onTouch,i),i.addEventListener(egret.TouchEvent.TOUCH_END,i.onTouch,i),i.addEventListener(egret.TouchEvent.TOUCH_MOVE,i.onTouch,i),i.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTap,i),i.rects=[],i.languageArr=["pt","en","es"];for(var n=0;3>n;n++)i.rects[n]=new egret.Rectangle(10,8+90*n,285,70),GraphicTool.drawRect(i,i.rects[n],9864451,!1,1,20,2,16776565),Com.addBitmapAtMiddle(i,"gameSettings_json.flag_"+i.languageArr[n],.5*i.rects[n].width+i.rects[n].x,.5*i.rects[n].height+i.rects[n].y);return e.instance=i,i}return __extends(e,t),e.prototype.onTouch=function(t){t.stopImmediatePropagation()},e.prototype.onTap=function(t){for(var i=new egret.Point(t.localX,t.localY),n=0;3>n;n++)if(this.rects[n].containsPoint(i)){this.visible=!1,MuLang.language!=this.languageArr[n]&&(e.changeIndex=n,this.showConfirm());break}},e.prototype.showConfirm=function(){this.dispatchEvent(new egret.Event("showConfirm"))},e.confirmChange=function(){MuLang.language=this.instance.languageArr[this.changeIndex],window.location.reload()},e}(egret.Sprite);__reflect(LanguageBar.prototype,"LanguageBar");var MDS=function(){function t(){}return t.addGameText=function(t,e,i,n,o,a,r,s,l,c){void 0===r&&(r=!1),void 0===s&&(s=200),void 0===l&&(l=""),void 0===c&&(c=.8);var g=Com.addLabelAt(t,e,i+BrowserInfo.textUp,s,n,n,r,!0);return g.textColor=o,g.textAlign="left",g.setText(MuLang.getText(a)+l),g.scaleX=c,g},t.addGameTextCenterShadow=function(t,e,i,n,o,a,r,s,l,c){void 0===r&&(r=!1),void 0===s&&(s=200),void 0===l&&(l=!0),void 0===c&&(c=!0);var g=this.addGameText(t,e,i,n,o,a,r,s);return l&&(g.textAlign="center"),c&&(g.filters=[new egret.DropShadowFilter(3,45,0,1,1,1,1,3)]),g},t.addBitmapTextAt=function(t,e,i,n,o,a,r,s,l){void 0===o&&(o="left"),void 0===r&&(r=0);var c=new BmpText;c.font=RES.getRes(e),c.textAlign=o,c.verticalAlign="middle",c.text=" ";var g=a/c.textHeight;return c.width=1/g*s,c.height=1/g*l,c.scaleX=c.scaleY=g,c.filters=[MatrixTool.colorMatrixPure(r)],Com.addObjectAt(t,c,i,n),c},t.removeSelf=function(t){t.parent&&t.parent.removeChild(t)},t.onUserHeadLoaded=function(t,e,i){var n=i.currentTarget,o=n.data,a=new egret.Texture;a.bitmapData=o,t.scaleX=t.scaleY=1,t.texture=a,t.width=t.height=e},t}();__reflect(MDS.prototype,"MDS");var PlayerConfig=function(){function PlayerConfig(){}return Object.defineProperty(PlayerConfig,"playerData",{get:function(){if(!this._playerData){var t=localStorage.getItem("player");if(t)try{this._playerData=JSON.parse(t)}catch(e){this._playerData=null}}return this._playerData},enumerable:!0,configurable:!0}),Object.defineProperty(PlayerConfig,"configData",{get:function(){if(!this._configData){var t=localStorage.getItem("config");if(t)try{this._configData=JSON.parse(t)}catch(e){this._configData=null}}return this._configData},enumerable:!0,configurable:!0}),PlayerConfig.player=function(key){try{var item=eval("this.playerData."+key);return item}catch(e){var rs=this.playerConfig[key];return"user.id"!=key||rs||(rs="243972732"),rs}},PlayerConfig.config=function(key){try{var item=eval("this.configData."+key);return item}catch(e){var rs=this.playerConfig[key];return"http"!=key||rs||(rs="https"),"host"!=key||rs||(rs="staging.doutorbingo.com"),"platform"!=key||rs||(rs="com"),rs}},Object.defineProperty(PlayerConfig,"properties",{get:function(){var t=localStorage.getItem("user_account_info");return(t.indexOf("login_type=custom")>=0||t.indexOf("login_type=guest")>=0)&&(t+="&uid="+PlayerConfig.player("user.id")),t=t.replace("login_type","network")},enumerable:!0,configurable:!0}),PlayerConfig.serverVertion=2,PlayerConfig.playerConfig={"user.id":requestStr("id"),"score.level":2538,"score.this_level_xp":2500,"score.next_level_xp":3500,"score.xp":3e3,mission:{task_is_process:"0",unlock_level:10,task:{387285:{is_active:"1",type:"1",current:"1",target:"2",id:"387285",bet_limit:-1},387286:{is_active:"0",type:"1",current:"1",target:"6",id:"387286"},387287:{is_active:"0",type:"1",current:"0",target:"15",id:"387287"}},score_info:{score_is_process:"0"}},"mission.unlock_level":3e3,"loyalty.loyalty_level":4,"facebook.email":"a@b.com"},PlayerConfig.mission={},PlayerConfig}();__reflect(PlayerConfig.prototype,"PlayerConfig");var BankProductItem=function(t){function e(){var e=t.call(this)||this;return e.touchChildren=!1,e.touchEnabled=!0,e}return __extends(e,t),e}(egret.DisplayObjectContainer);__reflect(BankProductItem.prototype,"BankProductItem");var CollectHourlyBonusBar=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.timerStaus=function(t,e){},e}(egret.DisplayObjectContainer);__reflect(CollectHourlyBonusBar.prototype,"CollectHourlyBonusBar");var ConFirmBar=function(t){function e(e){var i=t.call(this)||this;GraphicTool.drawRect(i,new egret.Rectangle(-e.x>>1,-e.y>>1,e.x+100,e.y),0,!1,0),i.touchEnabled=!0;var n=Com.addBitmapAt(i,"gameSettings_json.bg_popup",-610,-320);n.scale9Grid=new egret.Rectangle(60,60,911,706),n.width=1110,n.height=535;var o=Com.addLabelAt(i,-510,-245,910,72,72,!1,!0);o.text=MuLang.getText("change_language");var a=Com.addLabelAt(i,-510,-120,910,100,48);a.setText(MuLang.getText("change_language_tip"));var r=Com.addDownButtonAt(i,"gameSettings_json.OK","gameSettings_json.OK",-485,50,i.closeThisBar.bind(i),!0),s=Com.addTextAt(i,0,0,20,55,55);s.fontFamily="Righteous",s.text=MuLang.getText("cancel"),r.setButtonText(s);var l=Com.addDownButtonAt(i,"gameSettings_json.OK","gameSettings_json.OK",5,50,i.confirmChange.bind(i),!0),c=Com.addTextAt(i,0,0,20,55,55);return c.fontFamily="Righteous",c.text=MuLang.getText("confirm"),l.setButtonText(c),i}return __extends(e,t),e.prototype.closeThisBar=function(){this.parent&&this.parent.removeChild(this)},e.prototype.confirmChange=function(t){LanguageBar.confirmChange()},e}(egret.Sprite);__reflect(ConFirmBar.prototype,"ConFirmBar");var GameSettingItem=function(t){function e(i,n,o,a){var r=t.call(this)||this,s=Com.addBitmapAt(r,"gameSettings_json.tab_bg",0,0);s.width=1040,s.height=140,Com.addBitmapAtMiddle(r,"gameSettings_json."+i,90,70+a);var l=MDS.addGameText(r,180,35,54,16777215,n,!0,600,"",1);return l.height=75,e.settingTextFormat(l),r.addChild(o),r.cacheAsBitmap=!0,r}return __extends(e,t),e.settingTextFormat=function(t){t.fontFamily="Righteous",t.stroke=2,t.strokeColor=197451,t.filters=[new egret.DropShadowFilter(5,45,0,.5,4,4,2,1)]},e}(egret.DisplayObjectContainer);__reflect(GameSettingItem.prototype,"GameSettingItem");var GameSettingPopup=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e,"classAssetName",{get:function(){return"gameSettings"},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.bgAssetName="gameSettings_json.bg",this.closeButtonAssetName="gameSettings_json.X_btn",t.prototype.init.call(this),this.bg.width=1240,this.bg.height=990,this.anchorOffsetX=this.bg.width>>1,this.anchorOffsetY=this.bg.height>>1,this.closeButton.x=this.bg.width,this.addScrollArea(new egret.Rectangle(62,41,1040,910)),this.addItems(),this.addTitleAndVertion(),this.addLanguageBar(),this.scrollSlider=new SettingSlider,Com.addObjectAt(this,this.scrollSlider,1150,70),this.scrollSlider.addEventListener("startDrag",this.onStartDrag,this),this.scrollSlider.addEventListener("stopDrag",this.onStopDrag,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this),this.addEventListener(egret.Event.ENTER_FRAME,this.onFrame,this)},e.prototype.onRemove=function(t){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.onFrame,this)},e.prototype.addScrollArea=function(t){this.scrollArea=new egret.ScrollView,this.scrollArea.width=t.width,this.scrollArea.height=t.height,Com.addObjectAt(this,this.scrollArea,t.x,t.y),this.scrollBar=new egret.DisplayObjectContainer,this.scrollArea.setContent(this.scrollBar)},e.prototype.addItem=function(t,e,i,n,o){void 0===o&&(o=0);var a=new GameSettingItem(e,i,n,o);a.y=150*t,this.scrollBar.addChild(a)},e.prototype.addButtonText=function(t,e){void 0===e&&(e=null);var i=Com.addLabelAt(t,10,0,t.width-20,t.height,48);GameSettingItem.settingTextFormat(i),e&&i.setText(MuLang.getText(e,MuLang.CASE_UPPER))},e.prototype.addLoginButtonText=function(t,e){void 0===e&&(e=null);var i=Com.addLabelAt(t,90,0,t.width-100,t.height,48);GameSettingItem.settingTextFormat(i),i.textAlign="left",e&&i.setText(MuLang.getText(e,MuLang.CASE_UPPER))},e.prototype.addItems=function(){var t=Com.addDownButtonAt(this,"gameSettings_json.support_btn","gameSettings_json.support_btn",700,18,this.logout.bind(this),!0);this.addButtonText(t,"logout");var e=this.getPlayerType(),i=0;this.addItem(i++,"avatar",MuLang.getText(e,MuLang.CASE_UPPER)+":   "+PlayerConfig.player("user_id"==e?"user.id":e),t),"facebook_id"==e&&this.getFacebookAvatar();var n=Com.addDownButtonAt(this,"gameSettings_json.support_btn","gameSettings_json.support_btn",700,18,this.showLangugeBar.bind(this),!0);if(Com.addBitmapAtMiddle(n,"gameSettings_json.flag_"+MuLang.language,n.width>>1,n.height>>1),Com.addBitmapAtMiddle(n,"gameSettings_json.btn_arrow",n.width-45,n.height>>1),this.addItem(i++,"language_icon","language",n,5),PlayerConfig.properties.indexOf("network=facebook")<0){var o=new egret.DisplayObjectContainer,a=Com.addDownButtonAt(o,"gameSettings_json.gl_bt_settings","gameSettings_json.gl_bt_settings",380,18,this.gotoLoginPage.bind(this),!0),r=Com.addDownButtonAt(o,"gameSettings_json.fb_bt_settings","gameSettings_json.fb_bt_settings",700,18,this.gotoLoginPage.bind(this),!0);this.addLoginButtonText(a,"login"),this.addLoginButtonText(r,"login"),this.addItem(i++,"icon_connect","link",o)}var s=Com.addDownButtonAt(this,"gameSettings_json.support_btn","gameSettings_json.support_btn",700,18,this.suport.bind(this),!0);this.addButtonText(s,"contact"),this.addItem(i++,"support_icon","support",s,5);var l=Com.addDownButtonAt(this,"gameSettings_json.support_btn","gameSettings_json.support_btn",700,18,this.rateStar.bind(this),!0);this.addButtonText(l,"rate_us"),this.addItem(i++,"rate_icon","rate_us",l,5),this.soundEffectBtn=new SettingsCheckbox(this.soundEffectChange.bind(this)),this.soundEffectBtn.RadioOn=SoundManager.soundEfOn,this.addItem(i++,"sound_fx_icon","sound_effect_on",this.soundEffectBtn,5),this.musicBtn=new SettingsCheckbox(this.musicChange.bind(this)),this.musicBtn.RadioOn=SoundManager.soundOn,this.addItem(i++,"music_icon","music_on",this.musicBtn,5),this.visualEffectBtn=new SettingsCheckbox(this.visualEffectChange.bind(this)),this.visualEffectBtn.RadioOn=GameSettings.visualEffectOn,this.addItem(i++,"visual_fx_icon","effect_on",this.visualEffectBtn,5),this.notificationBtn=new SettingsCheckbox(this.notificationChange.bind(this)),this.notificationBtn.RadioOn=GameSettings.notificationOn,this.addItem(i++,"icon_notification",MuLang.getText("notification"),this.notificationBtn,5)},e.prototype.getFacebookAvatar=function(){var t=this.scrollBar.getChildAt(0),e=t.getChildAt(1);FacebookBitmap.downloadBitmapDataByFacebookID(PlayerConfig.player("facebook.id"),100,100,MDS.onUserHeadLoaded.bind(this,e,100),this)},e.prototype.getPlayerType=function(){return PlayerConfig.player("facebook_id")?"facebook_id":PlayerConfig.player("custom_id")?"custom_id":PlayerConfig.player("google_id")?"google_id":PlayerConfig.player("guest_id")?"guest_id":"user_id"},e.prototype.addTitleAndVertion=function(){var t=Com.addLabelAt(this,0,-40,this.bg.width,65,50);GameSettingItem.settingTextFormat(t),t.setText(MuLang.getText("settings",MuLang.CASE_UPPER));var e=MDS.addGameText(this,100,975,40,16777215,"",!0,525,"",1);e.height=50,GameSettingItem.settingTextFormat(e),e.setText(MuLang.getText("settings",MuLang.CASE_UPPER)+":     "+GameSettings.vertion);var i=MDS.addGameText(this,720,975,40,16777215,"",!0,650,"",1);i.height=50,GameSettingItem.settingTextFormat(i),i.setText(MuLang.getText("user_id",MuLang.CASE_UPPER)+":     "+PlayerConfig.player("user.id"))},e.prototype.addLanguageBar=function(){this.languageBar=new LanguageBar,this.languageBar.visible=!1,this.languageBar.addEventListener("showConfirm",this.showConfirm,this),Com.addObjectAt(this.scrollBar,this.languageBar,708,280)},e.prototype.logout=function(){localStorage.removeItem("player"),localStorage.removeItem("user_account_info"),window.location.href="/"},e.prototype.showLangugeBar=function(){this.languageBar.visible=!this.languageBar.visible},e.prototype.gotoLoginPage=function(){this.logout()},e.prototype.suport=function(){Com.addObjectAt(this,new SupportBar(new egret.Point(this.bg.width,this.bg.height)),this.bg.width>>1,this.bg.height>>1)},e.prototype.rateStar=function(){Com.addObjectAt(this,new RateBar(new egret.Point(this.bg.width,this.bg.height)),this.bg.width>>1,this.bg.height>>1)},e.prototype.soundEffectChange=function(){this.soundEffectBtn.RadioOn=SoundManager.soundEfOn=!SoundManager.soundEfOn},e.prototype.musicChange=function(){this.musicBtn.RadioOn=SoundManager.soundOn=!SoundManager.soundOn},e.prototype.visualEffectChange=function(){this.visualEffectBtn.RadioOn=GameSettings.visualEffectOn=!GameSettings.visualEffectOn},e.prototype.notificationChange=function(){this.notificationBtn.RadioOn=GameSettings.notificationOn=!GameSettings.notificationOn},e.prototype.onFrame=function(t){this.sliderDraging?this.scrollArea.scrollTop=this.scrollSlider.scrollTop*this.scrollArea.getMaxScrollTop():this.scrollSlider.setSliderPosition(this.scrollArea.getMaxScrollTop(),this.scrollArea.scrollTop)},e.prototype.onStartDrag=function(t){this.sliderDraging=!0},e.prototype.onStopDrag=function(t){this.sliderDraging=!1},e.prototype.showConfirm=function(){Com.addObjectAt(this,new ConFirmBar(new egret.Point(this.bg.width,this.bg.height)),this.bg.width>>1,this.bg.height>>1)},e}(GenericPo);__reflect(GameSettingPopup.prototype,"GameSettingPopup");var GameSettings=function(){function t(){}return Object.defineProperty(t,"visualEffectOn",{get:function(){return"false"==egret.localStorage.getItem("visualEffect")?!1:!0},set:function(t){this.visualEffectOn!=t&&egret.localStorage.setItem("visualEffect",t?"":"false")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"notificationOn",{get:function(){return"false"==egret.localStorage.getItem("notification")?!1:!0},set:function(t){this.notificationOn!=t&&egret.localStorage.setItem("notification",t?"":"false")},enumerable:!0,configurable:!0}),t.vertion="2.6.2",t}();__reflect(GameSettings.prototype,"GameSettings");var trace=function(t){egret.log(t)},BrowserInfo=function(){function t(){}return t.getBrowserInfo=function(){var t={},e=navigator.userAgent.toLowerCase(),i=/(msie|firefox|chrome|opera|version).*?([\d.]+)/,n=e.match(i);try{t.browser=n[1].replace(/version/,"'safari"),t.ver=n[2]}catch(o){trace("no browser info")}return t},Object.defineProperty(t,"textUp",{get:function(){if(!this.textNeedUpHasTested){var t=this.getBrowserInfo();if(this.textNeedUpInThisBrowser=0,"chrome"==t.browser){var e=t.ver.split(".");e[0]&&parseInt(e[0])>=71&&e[2]&&parseInt(e[2])>=3550&&(this.textNeedUpInThisBrowser=2)}this.textNeedUpHasTested=!0}return this.textNeedUpInThisBrowser},enumerable:!0,configurable:!0}),t}();__reflect(BrowserInfo.prototype,"BrowserInfo");var RateBar=function(t){function e(e){var i=t.call(this)||this;GraphicTool.drawRect(i,new egret.Rectangle(-e.x>>1,-e.y>>1,e.x+100,e.y),0,!1,0),i.touchEnabled=!0,i.langResource="rate_us_json",i.bg=Com.addBitmapAtMiddle(i,i.langResource+".M",0,0);var n=MDS.addGameText(i,-370,-260,48,2236962,"rate_us_now",!1,740,"",1);n.textAlign="center",n.text=n.text.toUpperCase();var o=MDS.addGameText(i,-370,-180,35,5592405,"how_to_rate",!1,740,"",1);o.textAlign="center",Com.addBitmapAt(i,i.langResource+".doctor",100,-130),i.stars=[],i.goldStars=[];for(var a=0;5>a;a++)i.stars[a]=Com.addDownButtonAt(i,i.langResource+".Star_b",i.langResource+".Star_b",-290+115*a,-120,i.rate.bind(i),!0),i.stars[a].name=""+a,i.goldStars[a]=Com.addBitmapAt(i,i.langResource+".Star",-290+115*a,-120),i.goldStars[a].visible=!1;return i.closeBtn=Com.addDownButtonAt(i,i.langResource+".roomCloseButton",i.langResource+".roomCloseButton",i.bg.width>>1,-i.bg.height>>1,i.closeThisBar.bind(i),!0),i.closeBtn.x-=i.closeBtn.width,i}return __extends(e,t),e.prototype.rate=function(t){for(var e=t.target,i=Number(e.name),n=0;5>n;n++)this.stars[n].enabled=!1,i>=n&&(this.goldStars[n].visible=!0);this.dealWithIndex(i)},e.prototype.closeThisBar=function(){this.parent&&this.parent.removeChild(this)},e.prototype.dealWithIndex=function(t){3>t?this.showOkButton():setTimeout(this.delayOpenWindow.bind(this),300)},e.prototype.delayOpenWindow=function(){this.closeThisBar(),Math.random()>.5?window.open("https://itunes.apple.com/app/doctor-bingo-free-bingo-slots/id1152226735"):window.open("https://play.google.com/store/apps/details?id=com.gamesmartltd.doctorbingo")},e.prototype.showOkButton=function(){var t=Com.addDownButtonAt(this,this.langResource+".BUY COINS",this.langResource+".BUY COINS",-132,150,this.closeThisBar.bind(this),!0),e=Com.addTextAt(this,0,0,40,40,50,!1,!0);t.setButtonText(e),e.textColor=0,e.text="OK"},e}(egret.Sprite);__reflect(RateBar.prototype,"RateBar");var SettingsCheckbox=function(t){function e(e){var i=t.call(this)||this;return i.bg=Com.addBitmapAt(i,"gameSettings_json.bg_slider_on",0,0),i.bar=Com.addBitmapAt(i,"gameSettings_json.slider_switch",77,2),i.touchChildren=!1,i.touchEnabled=!0,i.x=855,i.y=32,i.callback=e,i.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onTap,i),i}return __extends(e,t),Object.defineProperty(e.prototype,"RadioOn",{get:function(){return this._radioOn},set:function(t){this._radioOn=t,t?(this.bg.texture=RES.getRes("gameSettings_json.bg_slider_on"),this.bar.x=77):(this.bg.texture=RES.getRes("gameSettings_json.bg_slider_off"),this.bar.x=0)},enumerable:!0,configurable:!0}),e.prototype.onTap=function(t){this.callback()},e}(egret.DisplayObjectContainer);__reflect(SettingsCheckbox.prototype,"SettingsCheckbox");var SettingSlider=function(t){function e(){var e=t.call(this)||this;e.sliderRange=850;var i=Com.addBitmapAt(e,"gameSettings_json.scroll_bar",0,0);return i.height=e.sliderRange,e.slider=Com.addBitmapAtMiddle(e,"gameSettings_json.scroll_bar_handle",10,0),e.slider.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onSliderStartDrag,e),e.slider.touchEnabled=!0,e}return __extends(e,t),e.prototype.setSliderPosition=function(t,e){0>e&&(e=0),e>t&&(e=t),this.slider.y=e/t*this.sliderRange},e.prototype.onSliderStartDrag=function(t){this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onSliderStopDrag,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onSliderStopDrag,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMove,this),this.dispatchEvent(new egret.Event("startDrag")),this.dragStarStageY=t.stageY,this.dragStarSliderY=this.slider.y,this.dragSliderPosition(t.stageY)},e.prototype.onSliderStopDrag=function(t){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onSliderStopDrag,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onSliderStopDrag,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMove,this),this.dispatchEvent(new egret.Event("stopDrag"))},e.prototype.dragSliderPosition=function(t){t-=this.dragStarStageY,t/=this.parent.scaleY,t+=this.dragStarSliderY;var e=t;0>e&&(e=0),e>this.sliderRange&&(e=this.sliderRange),this.slider.y=e},Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.slider.y/this.sliderRange},enumerable:!0,configurable:!0}),e.prototype.onMove=function(t){this.dragSliderPosition(t.stageY)},e}(egret.DisplayObjectContainer);__reflect(SettingSlider.prototype,"SettingSlider");var SupportBar=function(_super){function SupportBar(t){var e=_super.call(this)||this;return GraphicTool.drawRect(e,new egret.Rectangle(-t.x>>1,-t.y>>1,t.x+100,t.y),0,!1,0),e.touchEnabled=!0,e.langResource="support_json",e.email=PlayerConfig.player("facebook.email")||PlayerConfig.player("user_info.email")||"",e.buildBg(),e.buildTitleText(),e.buildSupportText(),e.buildSupportBtn(),e.buildCloseBtn(),e}return __extends(SupportBar,_super),SupportBar.prototype.buildBg=function(){this.bg=Com.addBitmapAt(this,this.langResource+".popup_bg_big",-623,-377),this.bg.scale9Grid=new egret.Rectangle(40,40,569,609),this.bg.width=1247,this.bg.height=755},SupportBar.prototype.buildTitleText=function(){var t=Com.addTextAt(this,-538,-349,432,88,64,!0,!1);t.fontFamily="TCM_conden",t.textAlign="left",t.verticalAlign="middle",t.bold=!0,t.stroke=4,t.textColor=13681565,t.strokeColor=13216071,t.text=MuLang.getText("e_support",MuLang.CASE_UPPER);var e=new egret.DisplayObjectContainer;Com.addObjectAt(this,e,-438,-262);var i=Com.addBitmapAt(e,this.langResource+".select_box",0,0);i.scale9Grid=new egret.Rectangle(11,11,27,27),i.width=980,i.height=83,this.topTextInput=new eui.EditableText,Com.addObjectAt(e,this.topTextInput,20,0),this.topTextInput.width=940,this.topTextInput.height=83,this.topTextInput.size=48,this.topTextInput.verticalAlign="middle",this.topTextInput.fontFamily="TCM_conden",this.topTextInput.bold=!0,this.topTextInput.textColor=16777215,this.topTextInput.text=this.email,this.topTextInput.prompt=MuLang.getText("email",MuLang.CASE_UPPER),Com.addBitmapAt(this,this.langResource+".icon_zendesk",-533,-259)},SupportBar.prototype.buildSupportText=function(){var t=Com.addTextAt(this,-539,-172,313,53,42,!1,!1);t.fontFamily="TCM_conden",t.textAlign="left",t.verticalAlign="middle",t.textColor=11569179,t.text=MuLang.getText("message",MuLang.CASE_UPPER);var e=new egret.DisplayObjectContainer;e.width=1084,e.height=445,Com.addObjectAt(this,e,-540,-119);var i=Com.addBitmapAt(e,this.langResource+".select_box",0,0);i.scale9Grid=new egret.Rectangle(11,11,27,27),i.width=1084,i.height=445,this.supportTextInput=Com.addTextAt(e,20,20,1044,405,36,!1,!1),this.supportTextInput.fontFamily="TCM_conden",this.supportTextInput.textAlign="left",this.supportTextInput.bold=!0,this.supportTextInput.multiline=!0,this.supportTextInput.wordWrap=!0,this.supportTextInput.type=egret.TextFieldType.INPUT,this.supportTextInput.textColor=16777215},SupportBar.prototype.buildSupportBtn=function(){var t=Com.addDownButtonAt(this,this.langResource+".button_send",this.langResource+".button_send",388,209,this.sendSupport.bind(this),!0),e=Com.addTextAt(this,31,18,133,90,48,!0,!1);e.fontFamily="TCM_conden",e.verticalAlign="middle",e.stroke=2,e.strokeColor=346885,e.text=MuLang.getText("send"),t.addChild(e)},SupportBar.prototype.buildCloseBtn=function(){this.closeBtn=Com.addDownButtonAt(this,this.langResource+".button_close",this.langResource+".button_close",this.bg.width>>1,-this.bg.height>>1,this.closeThisBar.bind(this),!0),this.closeBtn.x-=this.closeBtn.width>>1,this.closeBtn.y-=this.closeBtn.height>>1},SupportBar.prototype.buildAlertBar=function(){var t=new egret.Sprite;Com.addObjectAt(this,t,0,0),GraphicTool.drawRect(t,new egret.Rectangle(-1e3,-500,2e3,1e3),0,!1,0),t.touchEnabled=!0;var e=Com.addBitmapAt(t,"gameSettings_json.bg_popup",-700,-300);e.scale9Grid=new egret.Rectangle(60,60,911,706),e.width=1120,e.height=515;var i=Com.addLabelAt(t,-600,-220,920,76,76);i.text=MuLang.getText("oops");var n=Com.addLabelAt(t,-600,-60,920,48,48);n.setText(MuLang.getText("enter_correct_info"));var o=Com.addBitmapAt(t,"gameSettings_json.dr",300,-380);o.scaleX=o.scaleY=1.1;var a=Com.addDownButtonAt(t,"gameSettings_json.OK","gameSettings_json.OK",-325,50,this.closeAlertBar.bind(this),!0),r=Com.addTextAt(t,0,0,20,72,72);return r.text="OK",a.setButtonText(r),t},SupportBar.prototype.closeAlertBar=function(t){this.alertBar.visible=!1},SupportBar.prototype.sendSupport=function(){var exp=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!exp.test(this.topTextInput.text))return this.alertBar||(this.alertBar=this.buildAlertBar()),void(this.alertBar.visible=!0);this.email=this.topTextInput.text;var value=this.supportTextInput.text;if(""!==value&&""!==this.email){var XHR=eval("window.XMLHttpRequest")?new XMLHttpRequest:eval("new ActiveXObject('Microsoft.XMLHTTP')");XHR.open("post","https://gamesmartltd.zendesk.com/api/v2/tickets.json",!0),XHR.setRequestHeader("Accept","application/json"),XHR.setRequestHeader("Content-Type","application/json"),XHR.setRequestHeader("Authorization","Basic YW55QGRvdXRvcmJpbmdvLmNvbTpCaW5nbzQ1NiE="),XHR.send(JSON.stringify({ticket:{subject:value.length>40?value.substring(0,40):value,comment:{body:value},requester:{name:PlayerConfig.player("facebook.name"),email:this.email},tags:["canvas","userid_"+PlayerConfig.player("user.id"),"level_"+PlayerConfig.player("score.level"),"loyalty_level_"+PlayerConfig.player("loyalty.loyalty_level")]}})),egret.setTimeout(function(){this.buildSupportSuccessContainer()},this,2e3)}},SupportBar.prototype.closeThisBar=function(){this.parent&&this.parent.removeChild(this)},SupportBar.prototype.buildSupportSuccessContainer=function(){this.supportSuccessContainer=new egret.DisplayObjectContainer,Com.addObjectAt(this,this.supportSuccessContainer,-623,-377);var t=Com.addBitmapAt(this.supportSuccessContainer,this.langResource+".popup_bg_big",0,0);t.scale9Grid=new egret.Rectangle(40,40,569,609),t.width=1247,t.height=755;var e=Com.addTextAt(this.supportSuccessContainer,208,124,830,127,64,!1,!1);e.fontFamily="TCM_conden",e.textColor=16777215,e.verticalAlign="middle",e.text=Utils.toFirstUpperCase(MuLang.getText("FACEBOOK_WAIT_CONGRATULATIONS_TITLE"));var i=Com.addTextAt(this.supportSuccessContainer,84,294,1079,262,48,!1,!1);i.fontFamily="TCM_conden",i.textColor=16777215,i.text=MuLang.getText("support_success_text"),this.addChild(this.closeBtn)},SupportBar}(egret.Sprite);__reflect(SupportBar.prototype,"SupportBar");var Coin=function(t){function e(){var i=t.call(this,e.mcf.generateMovieClipData("flyingCoins"))||this;return i.anchorOffsetX=i.width>>1,i.anchorOffsetY=i.height>>1,i}return __extends(e,t),Object.defineProperty(e,"mcf",{get:function(){if(!this._mcf){var t=RES.getRes("flyingCoins_json"),e=RES.getRes("flyingCoins_png");this._mcf=new egret.MovieClipDataFactory(t,e)}return this._mcf},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"factor",{get:function(){return 0},set:function(t){var e=1-t,i=e*e,n=t*t,o=2*t*e;this.x=i*this.startPosition.x+o*this.middlePosition.x+n*this.endPosition.x,this.y=i*this.startPosition.y+o*this.middlePosition.y+n*this.endPosition.y,this.scaleX=this.scaleY=i*this.startScale+o*this.middleScale+n*this.endScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vY",{get:function(){return this._vy},set:function(t){this._vy=t,this.y+=t},enumerable:!0,configurable:!0}),e}(egret.MovieClip);__reflect(Coin.prototype,"Coin");var DataServer=function(){function t(){}return t.prototype.getDataFromUrl=function(t,e,i,n,o,a){void 0===n&&(n=!0),void 0===a&&(a=null);var r=new egret.URLLoader;this.callback=e,this.thisObject=i,this.failedCallback=a,r.addEventListener(egret.Event.COMPLETE,this.loadComplete,this),r.addEventListener(egret.IOErrorEvent.IO_ERROR,this.loadFaild,this),r.dataFormat=egret.URLLoaderDataFormat.TEXT,t=t.concat((t.indexOf("?")>=0?"&":"?").concat(PlayerConfig.properties));var s=new egret.URLRequest(t);s.method=n?egret.URLRequestMethod.POST:egret.URLRequestMethod.GET;var l=new egret.URLVariables;l.variables=o,s.data=l,r.load(s)},t.prototype.loadComplete=function(t){this.callback.call(this.thisObject,t.target.data)},t.prototype.loadFaild=function(t){this.failedCallback&&this.failedCallback.call(this.thisObject,t.type)},t}();__reflect(DataServer.prototype,"DataServer");var Dinero=function(t){function e(){var i=t.call(this,e.mcf.generateMovieClipData("flyingDinero1"))||this;return i.anchorOffsetX=i.width>>1,i.anchorOffsetY=i.height>>1,i}return __extends(e,t),Object.defineProperty(e,"mcf",{get:function(){if(!this._mcf){var t=RES.getRes("flyingCoins_json"),e=RES.getRes("flyingCoins_png");this._mcf=new egret.MovieClipDataFactory(t,e)}return this._mcf},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"factor",{get:function(){return 0},set:function(t){var e=1-t,i=e*e,n=t*t,o=2*t*e;this.x=i*this.startPosition.x+o*this.middlePosition.x+n*this.endPosition.x,this.y=i*this.startPosition.y+o*this.middlePosition.y+n*this.endPosition.y,this.scaleX=this.scaleY=i*this.startScale+o*this.middleScale+n*this.endScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vY",{get:function(){return this._vy},set:function(t){this._vy=t,this.y+=t},enumerable:!0,configurable:!0}),e}(egret.MovieClip);__reflect(Dinero.prototype,"Dinero");var FacebookBitmap=function(){function t(){}return t.downloadBitmapDataByFacebookID=function(t,e,i,n,o){this.downloadBitmapDataByURL("https://graph.facebook.com/"+t+"/picture?width="+e+"&height="+i,n,o)},t.downloadBitmapDataByURL=function(t,e,i){var n=new egret.ImageLoader;n.once(egret.Event.COMPLETE,e,i),n.crossOrigin="anonymous",n.load(t)
},t}();__reflect(FacebookBitmap.prototype,"FacebookBitmap");var FlyingCoins=function(t){function e(){var e=t.call(this)||this;return e.coinsMcs=[],e.dineroMcs=[],e}return __extends(e,t),e.prototype.fly=function(t,e,i,n,o,a,r){for(;this.coinsMcs.length<t;)this.coinsMcs.push(new Coin);this.coinsFly=this.coinsMcs.concat(),this.savePositions(e,i,n,o,a,r),this.gapDuration=30,this.startFly(),SoundManager.play("collect_coins_mp3")},e.prototype.flyDenero=function(t,e,i,n,o,a,r){for(;this.dineroMcs.length<t;)this.dineroMcs.push(new Dinero);this.coinsFly=this.dineroMcs.concat(),this.savePositions(e,i,n,o,a,r),this.gapDuration=80,this.startFly(),SoundManager.play("collect_coins_mp3")},e.prototype.savePositions=function(t,e,i,n,o,a){this.startPosition=t,this.endPosition=e,this.middlePosition=i,this.startScale=n,this.endScale=o,this.middleScale=a},e.prototype.startFly=function(){if(this.coinsFly.length){var t=this.coinsFly.shift();t.startPosition=this.startPosition,t.x=t.startPosition.x,t.y=t.startPosition.y,t.endPosition=this.endPosition,t.middlePosition=this.middlePosition,t.startScale=this.startScale,t.scaleX=t.scaleY=t.startScale,t.endScale=this.endScale,t.middleScale=this.middleScale,t.rotation=360*Math.random(),t.gotoAndPlay(Math.floor(Math.random()*t.totalFrames)),this.addChild(t),t.play(-1);var e=egret.Tween.get(t);e.wait(this.gapDuration),e.call(this.startFly,this),e.to({factor:1},800),e.call(this.endFly,this,[t])}},e.prototype.endFly=function(t){t.parent.removeChild(t),t.stop(),0===this.numChildren&&this.parent&&this.parent.removeChild(this)},e}(egret.DisplayObjectContainer);__reflect(FlyingCoins.prototype,"FlyingCoins");var MuLang=function(){function MuLang(){}return MuLang.getText=function(t,e){if(void 0===e&&(e=0),!MuLang.txt)return null;var i=MuLang.txt[t];if(!i)return t;var n=i[MuLang.language];if(!n)return t;switch(e){default:return n;case 1:return n.toUpperCase();case 2:return n.toLowerCase();case 3:return n.substring(0,1).toUpperCase()+n.substring(1,n.length).toLowerCase()}},Object.defineProperty(MuLang,"language",{get:function(){if(localStorage&&["pt","en","es"].indexOf(localStorage.language)>=0)return localStorage.language;var resLan=PlayerConfig.player("settings.lang")||eval("getPlayer().settings.lang");return["pt","en","es"].indexOf(resLan)>=0?resLan:"pt"},set:function(t){localStorage.setItem("language",t)},enumerable:!0,configurable:!0}),Object.defineProperty(MuLang,"languageName",{get:function(){return this.lanuageNames[this.language]},enumerable:!0,configurable:!0}),MuLang.txt={},MuLang.CASE_NORMAL=0,MuLang.CASE_UPPER=1,MuLang.CASE_LOWER=2,MuLang.CASE_TYPE_CAPITALIZE=3,MuLang.lanuageNames={en:"english",es:"spanish",pt:"portuguese"},MuLang}();__reflect(MuLang.prototype,"MuLang");var LocalDataManager=function(){function LocalDataManager(){}return LocalDataManager.updatePlayerData=function(key,value){if(localStorage.getItem("player")){var str=localStorage.getItem("player"),ob=JSON.parse(str);try{eval("ob."+key+" = value")}catch(e){return}localStorage.setItem("player",JSON.stringify(ob))}},LocalDataManager.updatePlayerDatas=function(items){if(localStorage.getItem("player")){for(var str=localStorage.getItem("player"),ob=JSON.parse(str),i=0;i<items.length;i++)try{eval("ob."+items[i].key+" = items[i].value")}catch(e){return}localStorage.setItem("player",JSON.stringify(ob))}},LocalDataManager}();__reflect(LocalDataManager.prototype,"LocalDataManager");